var otherProductAdding=productUpdating=productUpdatingTableRow=checkingFileUpload=!1,currentUploadedFiles=[],f1=formObject.f1,f2=formObject.f2,f1s=formObject.f1s,f2s=formObject.f2s,currentProductState_default={productType:{type:null,text:""},cupColorVersion:null,productVolume:{volume:null,text:""},hotcupCap:null,productVariant:{variant:null,text:""},product:{product:null,text:""},subproduct:{product:null,text:""}};function removingUploadedFile(e){var t=jQuery(e).closest(".ginput_preview").attr("id"),o=jQuery("#fileupload-summary").val();if(""!=o){o=JSON.parse(o);for(var r=0;r<o.length;r++){for(var i=[],c=0;c<o[r].length;c++)o[r][c].temp_filename.indexOf(t)<0&&i.push(o[r][c]);o[r]=i}jQuery("#fileupload-summary").val(JSON.stringify(o))}}function changeItem(e){resetFirstForm(),jQuery(e).addClass("no-bg").html('<span class="gform_ajax_spinner change-product-spinner"></span>');var t=jQuery(e).closest("tr");index=t.index();var o=jQuery("#input_"+f2s+"_8").val();productDemandSetArray=JSON.parse(o),currentProduct=productDemandSetArray[index],productUpdating=currentProduct.split("@@");var r=jQuery("#fileupload-summary").val();if(""!=r&&(r=JSON.parse(r),productUpdating.push(r[index]),r.splice(index,1),jQuery("#fileupload-summary").val(JSON.stringify(r))),!(index<0||"undefined"==productDemandSetArray[index]))return productDemandSetArray.splice(index,1),jQuery("#input_"+f2s+"_8").val(JSON.stringify(productDemandSetArray)),jQuery("#gform_previous_button_"+f1s+"_4").trigger("click"),productUpdatingTableRow=t,!1}function removeItem(e){var t=jQuery(e).closest("tr");index=t.index();var o=jQuery("#input_"+f2s+"_8").val();if(productDemandSetArray=JSON.parse(o),!(index<0||"undefined"==productDemandSetArray[index])){productDemandSetArray.splice(index,1),jQuery("#input_"+f2s+"_8").val(JSON.stringify(productDemandSetArray));var r=jQuery("#fileupload-summary").val();if(""!=r){var i=(r=JSON.parse(r))[index];r.splice(index,1),jQuery("#fileupload-summary").val(JSON.stringify(r)),jQuery("#gform_preview_"+f2s+"_12 .ginput_preview").each(function(){for(var e=0;e<i.length;e++)i[e].temp_filename.indexOf(jQuery(this).attr("id"))>0&&jQuery(this).find(".gform_delete")[0].click()})}return t.fadeOut("fast",function(){t.remove(),jQuery("#form-summary tbody tr").length<=0&&(jQuery("#form-summary").after('<div id="no-product-message">'+formObject.setProductBeforeSubmit+"</div>"),jQuery("#gform_submit_button_"+f2s).hide())}),!1}}function addOtherProduct(e){if(jQuery(e).find(".add-product-plus").addClass("gform_ajax_spinner").text(""),otherProductAdding=!0,productUpdating){console.log("addOtherProduct (product updating)");var t=productUpdating[8];void 0!==(o=jQuery("#fileupload-summary").val())&&""!=o?(o=JSON.parse(o)).push(t):o=[],jQuery("#fileupload-summary").val(JSON.stringify(o)),productUpdating=!1}else{var o;if(console.log("addOtherProduct"),jQuery(e).hasClass("store-current-product"))(o=void 0!==(o=jQuery("#fileupload-summary").val())&&""!=o?JSON.parse(o):[]).push(currentUploadedFiles),jQuery("#fileupload-summary").val(JSON.stringify(o));currentUploadedFiles=[]}return resetFirstForm(),!1}function resetFirstForm(){currentProductState=cloneDeep(currentProductState_default);for(var e=1;e<=jQuery(".form-product-definition_wrapper .gform_page").length;e++)jQuery("#gform_page_"+f1s+"_"+e).find('input[type="radio"]').each(function(){jQuery(this).prop("checked",!1)}),jQuery("#gform_page_"+f1s+"_"+e).find('input[type="number"]').each(function(){jQuery(this).val("")}),jQuery("#gform_page_"+f1s+"_"+e).find('input[type="text"]').each(function(){jQuery(this).val("")});return jQuery("#current-files").html(""),jQuery(".cup-color-sample-wrapper").each(function(){jQuery(this).removeClass("color-selected").find("input").val(formObject.disVal).prop("disabled",!0)}),jQuery("#input_"+f1s+"_47").val(""),jQuery("#input_"+f1s+"_82").val(""),jQuery("#input_"+f1s+"_83").val(""),jQuery("#gform_previous_button_"+f1s+"_4").trigger("click"),!1}function updateContactSummary(){return jQuery(".form-product-definition-contact_wrapper .gfield:nth-child(1),.form-product-definition-contact_wrapper .gfield:nth-child(2),.form-product-definition-contact_wrapper .gfield:nth-child(3),.form-product-definition-contact_wrapper .gfield:nth-child(4),.form-product-definition-contact_wrapper .gfield:nth-child(5),#show-form-summary").show(),jQuery(".uploads-summary,#form-summary-wrapper,.form-product-definition-contact_wrapper .gform_footer").hide(),!1}function cloneDeep(e){let t={};for(let o in e)"object"==typeof e[o]?t[o]=cloneDeep(e[o]):t[o]=e[o];return t}function replaceAll(e,t,o){return e.split(t).join(o)}currentProductState=cloneDeep(currentProductState_default),function(e){function t(t){if(t||(t=1),e("#gform_page_"+f1s+"_"+t+" .product-selection").length>0&&(console.log("product-selection found"),e("#gform_page_"+f1s+"_"+t+" .product-selection .gfield_radio").on("change",function(t){var o=e(this).find('input[type="radio"]:checked').val();console.log("selected product type",o),currentProductState.productType.type=o,"hotcup"==o&&(currentProductState.product.text="HOT CUP")}),productUpdating)){var o=productUpdating[0];console.log("<updating> - product type:",o),e("#gform_page_"+f1s+"_"+t+' .product-selection input[value="'+o+'"]').trigger("click")}}function o(t,o){console.log("---highlightSelectedColors]"),e("#gform_page_"+f1s+"_"+t+" .cup-color-sample-wrapper").each(function(){var t=e(this),r=t.find("input");t.hasClass("gfield_error")||""!=r.val()?(t.addClass("color-selected"),e("#input_"+f1s+"_"+o).addId(r.attr("id"))):e("#input_"+f1s+"_"+o).removeId(r.attr("id"))})}function r(t){if(console.log("---productFilesBinding]"),e("#gform_page_"+f1s+"_"+t+" #select-multiple-files").length>0){e("#select-multiple-files").on("click",function(t){t.preventDefault(),e("#gform_browse_button_"+f2s+"_12").trigger("click")});var o=document.querySelector("#gform_preview_"+f2s+"_12");observer=new MutationObserver(function(o,r){if(o[0].addedNodes.length>0){var i=uploadedFiles_key=!1,c=e("#gform_uploaded_files_"+f2s).val();if(c&&(i=JSON.parse(c),uploadedFiles_key=Object.keys(i)[0]),!checkingFileUpload){var n=e("#select-multiple-files").html();e("#select-multiple-files").html('<span class="gform_ajax_spinner uploading-files"></span>'+n),function(t,o){void 0===o&&(o=[]);checkingFileUpload=!0;var r=!0;e("#gform_page_"+f1s+"_"+t+" .gform_next_button").prop("disabled",!0),setInterval(function(){r&&e.each(gfMultiFileUploader.uploaders,function(t,i){if(t=="gform_multifile_upload_"+f2s+"_12"&&i.total.queued<=0){r=checkingFileUpload=!1,e("#select-multiple-files .gform_ajax_spinner").remove(),a();for(var c=[],n=JSON.parse(e("#gform_uploaded_files_"+f2s).val()),l=Object.keys(n)[0],p=n[l],t=0;t<p.length;t++){for(var u=!1,d=0;d<o.length;d++)if(o[d].temp_filename==p[t].temp_filename){u=!0,o.splice(d,1);break}u||c.push(p[t])}if(productUpdating){for(var s=productUpdating[8],f=0;f<c.length;f++)s.push(c[f]);productUpdating[8]=s}else for(var f=0;f<c.length;f++)currentUploadedFiles.push(c[f]);c.length>0&&(e("#gform_preview_"+f2s+"_12 .ginput_preview").each(function(){for(var t=0;t<c.length;t++)c[t].temp_filename.indexOf(e(this).attr("id"))>0&&e("#current-files").append(e(this).clone())}),e("#gform_preview_"+f2s+"_12 .gform_delete").each(function(){var t=e(this).attr("onclick");e(this).attr("onclick","removingUploadedFile(this);"+t)}),e("#current-files .gform_delete").each(function(){e(this)[0].onclick=null,e(this).attr("onclick","")}),e("#current-files .gform_delete").on("click",function(){var t=e(this).closest(".ginput_preview").attr("id");if(e(this).closest(".ginput_preview").remove(),a(),e("#gform_preview_"+f2s+"_12 #"+t).length>0&&e("#gform_preview_"+f2s+"_12 #"+t).find(".gform_delete")[0].click(),productUpdating){for(var o=productUpdating[8],r=0;r<o.length;r++)o[r].temp_filename.indexOf(t)>0&&o.splice(r,1);productUpdating[8]=o}if(currentUploadedFiles)for(var r=0;r<currentUploadedFiles.length;r++)currentUploadedFiles[r].temp_filename.indexOf(t)>0&&currentUploadedFiles.splice(r,1)})),a()}})},200)}(t,i[uploadedFiles_key])}""!=e("#gform_preview_"+f2s+"_12").html()&&e(".uploads-summary .field-missing").remove()}o[0].removedNodes.length>0&&""==e("#gform_preview_"+f2s+"_12").html()&&e(".uploads-summary .field-missing").length<=0&&e(".uploads-summary .gfield_label").after('<span class="field-missing">- '+formObject.fieldMissing+" -</span>")});observer.observe(o,{attributes:!1,childList:!0,characterData:!0});var r=document.querySelector("#gform_multifile_messages_"+f2s+"_12");obderver_exceed=new MutationObserver(function(e,t){e[0].addedNodes.length>0&&alert(formObject.maxFileSize)});if(obderver_exceed.observe(r,{attributes:!1,childList:!0,characterData:!0}),e(".uploads-wrapper .gform_button_select_files").each(function(){e(this).val(formObject.selectFiles)}),productUpdating){var i=productUpdating[8];void 0!==i&&""!=i&&n(i)}else n(currentUploadedFiles)}}function i(){var t=e("#form-summary"),o=t.find("tbody tr"),r=e("#form-summary-wrapper .table-scroll");t.length>0&&o.length>0&&r.length>0&&(t.width()>r.width()?r.addClass("scrollable"):r.removeClass("scrollable"))}function c(){var t,o,r,c,a,n,l,p,u,d,s,f,g,m,_,v,h;if(a=g=n=m=u=h="-",t=currentProductState.productType.type,currentProductState.productType.text,o=currentProductState.productVolume.volume,d=currentProductState.productVolume.text,r=currentProductState.productVariant.variant,s=currentProductState.productVariant.text,color_version=currentProductState.cupColorVersion,c=currentProductState.product.product,f=currentProductState.product.text,console.log("== getting form data ... == [product_type",t,"volume",o,"variant",r,"product",c,"]"),"nicknack"==t){if(console.log("++ nicknack (variant "+r+")"),"sitotisk"==c&&(a=e("#input_"+f1s+"_8 input:checked").val(),g=e("#input_"+f1s+"_8 input:checked + label").html().replace(/<p>.*<\/p>/g,"")),"potisk"==r?(console.log("++ potisk"),p=v="color"==color_version?"-":e("#input_"+f1s+"_10").val().replace(/,/g,""),u=h=e("#input_"+f1s+"_11").val().replace(/,/g,"")):"bez-potisku"==r?(console.log("++ bez-potisku (product "+c+")"),"univerzalni"==c||"sada"==c?(p=v=e("#input_"+f1s+"_10").val().replace(/,/g,""),u=h="-",console.log("uni OR sada",v)):(p=v="-",u=h="-")):console.log("++ variant is different",r),"barevny"==c||"color"==color_version){var b=[];e("#gform_"+f1s+" .gform_page.cup-amount-check .cup-color-sample-wrapper").each(function(){var t=e(this).find(".gfield_label").text(),o=e(this).find("input").val().replace(/,/g,"");o>0&&b.push(t+":"+o)}),n=b.join("€€"),m=b.join(",<br>")}}else if("hotcup"==t){"potisk"==r&&(a=e("#input_"+f1s+"_78 input:checked").val(),g=e("#input_"+f1s+"_78 input:checked + label").html().replace(/<p>.*<\/p>/g,"")),p=v="-",u=h="-","potisk"==r&&("barevny"==c?u=h=e("#input_"+f1s+"_88").val().replace(/,/g,""):"zakladni"==c&&(u=h=e("#input_"+f1s+"_89").val().replace(/,/g,"")));b=[];"color"==color_version?e("#gform_"+f1s+" .gform_page.hotcup-amount-check.color .cup-color-sample-wrapper").each(function(){var t=e(this).find(".gfield_label").text(),o=e(this).find("input").val().replace(/,/g,"");o>0&&b.push(t+":"+o)}):"basic"==color_version&&e("#gform_"+f1s+" .gform_page.hotcup-amount-check.basic .cup-color-sample-wrapper").each(function(){var t=e(this).find(".gfield_label").text(),o=e(this).find("input").val().replace(/,/g,"");o>0&&b.push(t+":"+o)}),n=b.join("€€"),m=b.join(",<br>");var y=[];"s-vickem"==currentProductState.hotcupCap&&e("#gform_"+f1s+" .gform_page.hotcup-cap-amount-check .cup-color-sample-wrapper").each(function(){var t=e(this).find(".gfield_label").text(),o=e(this).find("input").val().replace(/,/g,"");o>0&&y.push(t+":"+o)}),l=y.join("§§"),_=y.join(",<br>")}var k=e("#input_"+f2s+"_8").val(),w=k.length,j=currentDemand_summary="";k=w<=0?[]:JSON.parse(k),l&&(n=n?n+"<br>Víčka:<br>"+l:"Víčka:<br>"+l),_&&(m=m?m+"<br>Víčka:<br>"+_:"Víčka:<br>"+_),j=t+"@@"+o+"@@"+r+"@@"+c+"@@"+a+"@@"+n+"@@"+p+"@@"+u,console.log("currentDemand",j),currentDemand_summary="<tr><td>"+d+"</td><td>"+s+"</td><td>"+f+"</td><td>"+g+"</td><td>"+m+"</td><td>"+v+"</td><td>"+h+'</td><td><a class="change-product" onclick="changeItem(this)" title="'+formObject.changeProduct+'">&nbsp;</a> <a class="remove-product" onclick="removeItem(this)" title="'+formObject.removeProduct+'">&nbsp;</a></td></tr>',k.push(j),console.log("productDemandSet",k),k=JSON.stringify(k),console.log("productDemandSet JSON",k),function(t,o){e("#input_"+f2s+"_8").val(t),e("#form-summary").append(o),i(),e("#no-product-message").length>0&&e("#no-product-message").remove();e("#gform_submit_button_"+f2s).show()}(k,currentDemand_summary)}function a(){e("#current-files .ginput_preview").length<=0?e(".gform_next_button").val(formObject.noFilesContinue):e(".gform_next_button").prop("disabled",!1).val(formObject.continueText)}function n(t){console.log("PreviewsCheck - filesArray",t),e("#gform_preview_"+f2s+"_12 .ginput_preview").each(function(){for(var o=0;o<t.length;o++)t[o].temp_filename.indexOf(e(this).attr("id"))>0&&e("#current-files").append(e(this).clone())}),e("#current-files .gform_delete").each(function(){e(this)[0].onclick=null,e(this).attr("onclick","")}),e("#current-files .gform_delete").on("click",function(){var o=e(this).closest(".ginput_preview").attr("id");e(this).closest(".ginput_preview").remove(),a();for(var r=0;r<t.length;r++)t[r].temp_filename.indexOf(o)>0&&t.splice(r,1);productUpdating&&(productUpdating[8]=t),e("#gform_preview_"+f2s+"_12 #"+o).length>0&&e("#gform_preview_"+f2s+"_12 #"+o).find(".gform_delete")[0].click()})}jQuery(document).foundation().foundation("joyride","start"),jQuery('input[type="submit"]').addClass("tiny radius button"),jQuery('iframe[src*="vimeo.com"]').wrap('<div class="flex-video widescreen vimeo" />'),jQuery('iframe[src*="dailymotion.com"]').wrap('<div class="flex-video widescreen" />'),jQuery('iframe[src*="youtube.com"]').wrap('<div class="flex-video widescreen" />'),jQuery(window).load(function(){jQuery("#topofpage").hide().removeAttr("href"),"0"!=jQuery(window).scrollTop()&&jQuery("#backtotop").fadeIn("slow");var e=jQuery("#backtotop");jQuery(window).scroll(function(){"0"==jQuery(window).scrollTop()?jQuery(e).fadeOut("slow"):jQuery(e).fadeIn("slow")})}),jQuery("#backtotop").click(function(){jQuery("html, body").animate({scrollTop:jQuery("body").offset().top},1e3)}),jQuery("label .color").click(function(){jQuery(this).toggleClass("color-checked");var e=parseInt(jQuery(".cup-volume-row div").attr("cup-amount"));jQuery(this).hasClass("color-checked")?jQuery(".cup-volume-row div").attr("cup-amount",e+1):jQuery(".cup-volume-row div").attr("cup-amount",e-1)}),jQuery(".show-all-steps").click(function(e){e.preventDefault(),jQuery(this).closest("li").siblings("li").find(".show-step").fadeToggle().toggleClass("step-hided"),jQuery(this).closest("li").siblings("li.show-step").fadeToggle().toggleClass("step-hided")}),jQuery(window).resize(function(){jQuery(window).width()<=934?jQuery(".product-form-modal.reveal-modal").removeClass("large").addClass("full"):jQuery(".product-form-modal.reveal-modal").removeClass("full").addClass("large")}),jQuery(window).width()<=934?jQuery(".product-form-modal.reveal-modal").removeClass("large").addClass("full"):jQuery(".product-form-modal.reveal-modal").removeClass("full").addClass("large"),e('form.product-form input[type="submit"]').click(function(){var t=e(this).clone();e(this).css({opacity:"0",position:"absolute"}),t.prop("id","").prop({disabled:!0,value:foundation_strings.processing}).insertAfter(e(this)),e(this).after('<div class="gform-spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),e(this).closest("form.product-form").find('input[type="text"], textarea.textarea').prop("readonly",!0)}),e(document).on("opened.fndtn.reveal","[data-reveal]",function(){if("inquiryForm"!=e(this).attr("id")&&"inquiryFormNew"!=e(this).attr("id")){e(this).addClass("properposition");var t=e(window).scrollTop();e(".reveal-modal.properposition").css({top:t+"px"})}e(".off-canvas-wrap").addClass("element--blurred")}),e(document).on("closed.fndtn.reveal","[data-reveal]",function(){e(".off-canvas-wrap").removeClass("element--blurred")}),e(function(){e(".accordion").on("click",".accordion-navigation:not(.active)",function(t){e(".accordion-navigation.active").removeClass("active").find(".content").slideUp("fast"),e(this).addClass("active").find(".content").slideToggle("fast")})}),e(function(){e(".accordion").on("click",".accordion-navigation.active",function(t){e(this).removeClass("active").find(".content").slideUp("fast")})}),e(document).on("gform_page_loaded",function(i,a,n){a==f1&&(console.log("-------------PAGE CHANGE ("+n+")-------------"),function(t){console.log("---colorVersionChangeBinding]"),e("#gform_page_"+f1s+"_"+t+" .cup-color-check").length>0&&e("#gform_page_"+f1s+"_"+t+" .cup-color-check .gfield_radio").on("change",function(t){var o=e(this).find('input[type="radio"]:checked').val();currentProductState.cupColorVersion="barevny"==o||"barevny-kelimek"==o?"color":"transparent"});e("#gform_page_"+f1s+"_"+t+" .hotcup-color-check").length>0&&e("#gform_page_"+f1s+"_"+t+" .hotcup-color-check .gfield_radio").on("change",function(t){var o=e(this),r=o.find('input[type="radio"]:checked').val();currentProductState.cupColorVersion="barevny"==r?"color":"basic"});e("#gform_page_"+f1s+"_"+t+" .hotcup-cap-color-check").length>0&&(e("#gform_page_"+f1s+"_"+t+" .hotcup-cap-color-check .gfield_radio").on("change",function(t){console.log("CAP VERSION CHANGED",e(this).find('input[type="radio"]:checked').val()),currentProductState.hotcupCap=e(this).find('input[type="radio"]:checked').val()}),productUpdating&&(console.log("Product updating on CAP, currently: ",currentProductState.hotcupCap),e("#gform_page_"+f1s+"_"+t).find('input[value="'+currentProductState.hotcupCap+'"]').trigger("click")))}(n),function(t){console.log("---showHideColorSelectionFields]"),e("#gform_page_"+f1s+"_"+t).hasClass("cup-amount-check")&&("color"==currentProductState.cupColorVersion?(e(".cup-color-sample-wrapper").show(),e(".custom-cup-amount").hide()):(e(".cup-color-sample-wrapper").hide(),e(".custom-cup-amount").show()));e("#gform_page_"+f1s+"_"+t).hasClass("hotcup-amount-check")&&(e(".custom-cup-amount").hide(),"color"==currentProductState.cupColorVersion?(e(".cup-color-sample-wrapper").show(),e(".cup-color-sample-wrapper.basic").hide()):(e(".cup-color-sample-wrapper").hide(),e(".cup-color-sample-wrapper.basic").show()));e("#gform_page_"+f1s+"_"+t).hasClass("hotcup-cap-amount-check")&&(e(".custom-cup-amount").hide(),e(".cup-color-sample-wrapper").hide(),e(".cup-color-sample-wrapper.cap").show())}(n),function(t,o){if(console.log("---stylePageValidationMessage]"),e("#gform_page_"+t+"_"+o).hasClass("page-amount-check")&&e("#gform_page_"+t+"_"+o+" .colors-number-validation-message .validation_message").length>0){let r=e(".form-product-definition #gform_page_"+t+"_"+o+" .gform_next_button").outerWidth();e("#gform_page_"+t+"_"+o+" .colors-number-validation-message .validation_message").css({width:r}),e("#gform_page_"+t+"_"+o+" .colors-number-validation-message").css({"text-align":"center"}),e(".form-product-definition .gform_page_footer").css({"margin-top":"0"})}else if(!e("#gform_page_"+t+"_"+o).hasClass("page-amount-check")&&e("#gform_page_"+t+"_"+o+" .gform_fields > .gfield_error > .validation_message").length>0){let r=e(".form-product-definition #gform_page_"+t+"_"+o+" .gform_next_button").outerWidth();e("#gform_page_"+t+"_"+o+" .gform_fields > .gfield_error > .validation_message").css({width:r}),e("#gform_page_"+t+"_"+o+" .gform_fields > .gfield_error").css({"text-align":"center"}),e(".form-product-definition .gform_page_footer").css({"margin-top":"0"})}}(f1s,n),e("#gform_page_"+f1s+"_"+n+" .ginput_container_number input").each(function(){e(this).val(e(this).val().replace(/,/g,"")),e(this).attr("autocomplete","off")}),function(t){e("#gform_page_"+f1s+"_"+t+" .cup-color-sample-wrapper").length>0?(console.log("---colorBinding] - Some colors found"),e("#gform_page_"+f1s+"_"+t+" .cup-color-sample-wrapper .cup-color-sample,#gform_page_"+f1s+"_"+t+" .cup-color-sample-wrapper .gfield_label").on("click",function(o){var r=e(this).closest(".gfield");console.log("state",currentProductState),r.hasClass("color-selected")?(console.log("UNchecking color"),r.find("input").val(formObject.disVal),r.removeClass("color-selected"),r.find("input").prop("disabled",!0),"nicknack"==currentProductState.productType.type?(console.log("remove id (clicked)"),e("#input_"+f1s+"_47").removeId(r.find("input").attr("id"))):"hotcup"==currentProductState.productType.type&&(console.log("remove id (clicked) (hotcup)"),"color"==currentProductState.cupColorVersion?e("#input_"+f1s+"_82").removeId(r.find("input").attr("id")):e("#input_"+f1s+"_83").removeId(r.find("input").attr("id")))):(console.log("checking color"),r.addClass("color-selected"),r.find("input").val(""),r.find("input").focus(),r.find("input").prop("disabled",!1),"nicknack"==currentProductState.productType.type?(console.log("add id (clicked)"),e("#input_"+f1s+"_47").addId(r.find("input").attr("id"))):"hotcup"==currentProductState.productType.type&&(console.log("add id (clicked) (hotcup)"),e("#gform_page_"+f1s+"_"+t).hasClass("hotcup-cap-amount-check")?(console.log("is hotcup cap"),e("#input_"+f1s+"_99").addId(r.find("input").attr("id"))):(console.log("is hotcup cup"),"color"==currentProductState.cupColorVersion?e("#input_"+f1s+"_82").addId(r.find("input").attr("id")):e("#input_"+f1s+"_83").addId(r.find("input").attr("id")))))})):console.log("---colorBinding] - NO colors found");if(e("#gform_page_"+f1s+"_"+t).hasClass("page-amount-check")&&productUpdating){productUpdatingTableRow&&(productUpdatingTableRow.remove(),productUpdatingTableRow=!1),colors=colorsCap=amount=motive="",void 0!==productUpdating[5]&&("nicknack"==currentProductState.productType.type?colors="-"==productUpdating[5]?"":productUpdating[5].replace("<br>","").split("€€"):(colors="-"==productUpdating[5]?"":replaceAll(productUpdating[5],"<br>",""),colors.indexOf("Víčka:")>=0?(colorsSplit=colors.split("Víčka:"),colors=colorsSplit[0].split("€€"),colorsCap=colorsSplit[1].split("§§")):colors=colors.split("€€"))),void 0!==productUpdating[6]&&(amount="-"==productUpdating[6]?"":productUpdating[6].replace(/,/g,"")),void 0!==productUpdating[7]&&(motive="-"==productUpdating[7]?"":productUpdating[7].replace(/,/g,"")),console.log("<updating> cup-amount-check page, colors",colors,"amount",amount,"motive",motive);let a=motiveSelector_id=controlSelector_id="";"nicknack"==currentProductState.productType.type?(a="10",motiveSelector_id="11",controlSelector_id="47"):"zakladni"==currentProductState.product.product?(motiveSelector_id="89",controlSelector_id="83"):(motiveSelector_id="88",controlSelector_id="82"),""!=a&&e("#input_"+f1s+"_10").val(amount),e("#input_"+f1s+"_"+motiveSelector_id).val(motive);for(var o=0;o<colors.length;o++){var r=colors[o].split(":"),i=r[0],c=r[1];e("#gform_page_"+f1s+"_"+t+" .cup-color-sample-wrapper").each(function(){if(e(this).find("label").text()==i){var t=e(this).find("input");return t.val(c),e("#input_"+f1s+"_"+controlSelector_id).addId(t.attr("id")),!1}})}for(var o=0;o<colorsCap.length;o++){var r=colorsCap[o].split(":"),i=r[0],c=r[1];console.log("cp_color",i,"cp_colorAmount",c),e("#gform_page_"+f1s+"_"+t+".hotcup-cap-amount-check .cup-color-sample-wrapper").each(function(){if(e(this).find("label").text()==i){console.log("Cap color found");var t=e(this).find("input");return console.log("$thisInput",t),t.val(c),e("#input_"+f1s+"_"+controlSelector_id).addId(t.attr("id")),!1}})}}}(n),function(t){if(console.log("---productVolumeBinding] - Volume: cup volume bind check. Page number:",t),e("#gform_page_"+f1s+"_"+t).hasClass("cup-volume-bind")&&(console.log("Volume: cup amount page",e("#gform_page_"+f1s+"_"+t+" .volume-hotcup-selection .gfield_radio")),e("#gform_page_"+f1s+"_"+t+" .volume-selection .gfield_radio").on("change",function(){console.log("Volume: cup volume changed!"),currentProductState.productVolume.volume=e(this).find("input:checked").val(),currentProductState.productVolume.text=e(this).find("input:checked + label").text()}),productUpdating)){var o=productUpdating[1];console.log("<updating> - volume:",o),e("#gform_page_"+f1s+"_"+t+' .volume-selection input[value="'+o+'"]').trigger("click")}if(e("#gform_page_"+f1s+"_"+t).hasClass("hotcup-volume-bind")&&(console.log("Volume: hotcup amount page",e("#gform_page_"+f1s+"_"+t+" .volume-hotcup-selection .gfield_radio")),e("#gform_page_"+f1s+"_"+t+" .volume-hotcup-selection .gfield_radio").on("change",function(){console.log("Volume: hotcup volume changed!"),currentProductState.productVolume.volume=e(this).find("input:checked").val(),currentProductState.productVolume.text=e(this).find("input:checked + label").text()}),productUpdating)){var o=productUpdating[1];console.log("<updating> - volume hotcup:",o),e("#gform_page_"+f1s+"_"+t+' .volume-hotcup-selection input[value="'+o+'"]').trigger("click")}}(n),function(t){if(console.log("---productVariantBinding] - Variant: cup variant bind check. Page number:",t),e("#gform_page_"+f1s+"_"+t+" .variant-selection").length>0){if(console.log("Variant: cup variant page"),e("#gform_page_"+f1s+"_"+t+" .variant-selection .gfield_radio").on("change",function(){console.log("cup variant changed!"),currentProductState.productVariant.variant=e(this).find("input:checked").val(),currentProductState.productVariant.text=e(this).find("input:checked + label").text()}),productUpdating){var o=productUpdating[2];console.log("<updating> - variant:",o),e("#gform_page_"+f1s+"_"+t+' .variant-selection input[value="'+o+'"]').trigger("click")}}else if(e("#gform_page_"+f1s+"_"+t+" .variant-hotcup-selection").length>0&&(console.log("Variant: hotcup variant page"),e("#gform_page_"+f1s+"_"+t+" .variant-hotcup-selection .gfield_radio").on("change",function(){console.log("hotcup variant changed!"),currentProductState.productVariant.variant=e(this).find("input:checked").val(),currentProductState.productVariant.text=e(this).find("input:checked + label").text()}),productUpdating)){var o=productUpdating[2];console.log("<updating> - variant hotcup:",o),e("#gform_page_"+f1s+"_"+t+' .variant-hotcup-selection input[value="'+o+'"]').trigger("click")}}(n),function(t){if("nicknack"==currentProductState.productType.type){if(console.log("---productBinding] - Product: product bind check. Page number:",t,"(NICKNACK)"),"potisk"==currentProductState.productVariant.variant&&e("#gform_page_"+f1s+"_"+t+" .potisk-product-selection").length>0){if(console.log("Product: print product page"),e("#gform_page_"+f1s+"_"+t+" .potisk-product-selection .gfield_radio").on("change",function(){console.log("iml vs sitotisk changed!"),currentProductState.product.product=e(this).find("input:checked").val(),currentProductState.product.text=e(this).find("input:checked + label").html().replace(/<p>.*<\/p>/g,"")}),productUpdating){let o=productUpdating[3];console.log("<updating> - product",o),e("#gform_page_"+f1s+"_"+t+' .potisk-product-selection input[value="'+o+'"]').trigger("click")}}else if("bez-potisku"==currentProductState.productVariant.variant&&e("#gform_page_"+f1s+"_"+t+" .bez-potisku-product-selection").length>0&&(console.log("Product: no print product page"),e("#gform_page_"+f1s+"_"+t+" .bez-potisku-product-selection .gfield_radio").on("change",function(){console.log("iml vs sitotisk changed!"),currentProductState.product.product=e(this).find("input:checked").val(),currentProductState.product.text=e(this).find("input:checked + label").html().replace(/<p>.*<\/p>/g,"")}),productUpdating)){let o=productUpdating[3];console.log("<updating> - product",o),e("#gform_page_"+f1s+"_"+t+' .bez-potisku-product-selection input[value="'+o+'"]').trigger("click")}}else if("hotcup"==currentProductState.productType.type)if(console.log("---productBinding] - Product: product bind check. Page number:",t,"(HOTCUP)"),"potisk"==currentProductState.productVariant.variant&&e("#gform_page_"+f1s+"_"+t+" .hotcup-color-version-print").length>0){if(console.log("Hotcup print, basic vs colored"),e("#gform_page_"+f1s+"_"+t+" .hotcup-color-version-print .gfield_radio").on("change",function(){console.log("Hotcup print basic vs colored changed!"),currentProductState.product.product=e(this).find("input:checked").val()}),productUpdating){let o=productUpdating[3];console.log("<updating> - print hotcup",o),e("#gform_page_"+f1s+"_"+t+' .hotcup-color-version-print input[value="'+o+'"]').trigger("click")}}else if("bez-potisku"==currentProductState.productVariant.variant&&e("#gform_page_"+f1s+"_"+t+" .hotcup-color-version-noprint").length>0&&(console.log("Hotcup noprint, basic vs colored"),e("#gform_page_"+f1s+"_"+t+" .hotcup-color-version-noprint .gfield_radio").on("change",function(){console.log("Hotcup noprint basic vs colored changed!"),currentProductState.product.product=e(this).find("input:checked").val()}),productUpdating)){let o=productUpdating[3];console.log("<updating> - noprint hotcup",o),e("#gform_page_"+f1s+"_"+t+' .hotcup-color-version-noprint input[value="'+o+'"]').trigger("click")}}(n),function(t){if("nicknack"==currentProductState.productType.type&&(console.log("---subproductBinding] - Subproduct: subproduct bind check. Page number:",t,"(NICKNACK)"),"potisk"==currentProductState.productVariant.variant&&e("#gform_page_"+f1s+"_"+t+" .potisk-cup-selection").length>0&&(console.log("Subproduct: print subproduct page"),e("#gform_page_"+f1s+"_"+t+" .potisk-cup-selection .gfield_radio").on("change",function(){console.log("print transparent vs colored changed!"),currentProductState.subproduct.product=e(this).find("input:checked").val(),currentProductState.subproduct.text=e(this).find("input:checked + label").html().replace(/<p>.*<\/p>/g,"")}),productUpdating))){let o=productUpdating[4];console.log("<updating> - print subproduct",o),e("#gform_page_"+f1s+"_"+t+' .potisk-cup-selection input[value="'+o+'"]').trigger("click")}}(n),function(){if(console.log("---cupAmountControl]"),"nicknack"==currentProductState.productType.type){var t=e('.gform_wrapper .volume-selection .gfield_radio input[type="radio"]:checked').val(),o='<div class="bad-cup-volume">('+formObject.badCupVolume+")</div>";.5!=t&&.3!=t?(e('.gform_wrapper .bez-potisku-product-selection input[type="radio"][value="barevny"]').attr("disabled","disabled"),e('.gform_wrapper .bez-potisku-product-selection input[type="radio"][value="barevny"]+label').after(o),e('.gform_wrapper .bez-potisku-product-selection input[type="radio"][value="sada"]').attr("disabled","disabled"),e('.gform_wrapper .bez-potisku-product-selection input[type="radio"][value="sada"]+label').after(o),e('.gform_wrapper .bez-potisku-product-selection input[type="radio"][value!="sada"]').trigger("click"),e('.gform_wrapper .potisk-cup-selection input[type="radio"][value="barevny-kelimek"]').attr("disabled","disabled"),e('.gform_wrapper .potisk-cup-selection input[type="radio"][value="barevny-kelimek"]+label').after(o),e('.gform_wrapper .potisk-cup-selection input[type="radio"][value="transparentni-kelimek"]').trigger("click")):(e('.gform_wrapper .bez-potisku-product-selection input[type="radio"][value="barevny"]').removeAttr("disabled"),e(".gform_wrapper .bad-cup-volume").remove());var r=amountDescText="",i=formObject.amountText;"potisk"==e(".variant-selection .gfield_radio input:checked").val()?"iml"==e(".potisk-product-selection .gfield_radio input:checked").val()?r=formObject.min1000:"sitotisk"==e(".potisk-product-selection .gfield_radio input:checked").val()&&(r=formObject.min250):"bez-potisku"==e(".variant-selection .gfield_radio input:checked").val()&&(console.log("-- Bez potisku"),"barevny"==e(".bez-potisku-product-selection .gfield_radio input:checked").val()||"univerzalni"==e(".bez-potisku-product-selection .gfield_radio input:checked").val()?r=formObject.min100:(console.log("-- Sada"),i=formObject.amountTextSada,amountDescText=formObject.sadaPack)),e(".custom-cup-amount input").attr("placeholder",r),e(".cup-color-sample-wrapper input").attr("placeholder",r),e(".custom-cup-amount label").text(i),e(".custom-cup-amount .gfield_description:not(.validation_message)").text(amountDescText);var c=motiveText=motiveDescText="";"potisk"==e(".variant-selection .gfield_radio input:checked").val()&&("iml"==e(".potisk-product-selection .gfield_radio input:checked").val()?(motiveText=formObject.motiveAmount,motiveDescText=formObject.motiveMin):"sitotisk"==e(".potisk-product-selection .gfield_radio input:checked").val()&&(motiveText=formObject.motiveColorsAmount)),e("#input_"+f1s+"_11").attr("placeholder",c),e("#field_"+f1s+"_11 label").text(motiveText),e("#field_"+f1s+"_11 .gfield_description:not(.validation_message)").text(motiveDescText)}else if("hotcup"==currentProductState.productType.type){console.log("> hotcup selected");var r=amountDescText="",i=formObject.amountText;"potisk"==e(".variant-hotcup-selection .gfield_radio input:checked").val()?(r=formObject.min250,console.log("> potisk")):"bez-potisku"==e(".variant-hotcup-selection .gfield_radio input:checked").val()&&(r=formObject.min100,console.log("> bez potisku")),e(".custom-cup-amount input").attr("placeholder",r),e(".cup-color-sample-wrapper input").attr("placeholder",r),e(".custom-cup-amount label").text(i),e(".custom-cup-amount .gfield_description:not(.validation_message)").text(amountDescText);var c=motiveText=motiveDescText="";"potisk"==e(".variant-hotcup-selection .gfield_radio input:checked").val()&&(motiveText=formObject.motiveColorsAmount),"potisk"==e(".variant-hotcup-selection .gfield_radio input:checked").val()&&"zakladni"==e(".hotcup-color-version-print .gfield_radio input:checked").val()?(e("#input_"+f1s+"_89").attr("placeholder",c),e("#field_"+f1s+"_89 label").text(motiveText),e("#field_"+f1s+"_89 .gfield_description:not(.validation_message)").text(motiveDescText)):"potisk"==e(".variant-hotcup-selection .gfield_radio input:checked").val()&&"barevny"==e(".hotcup-color-version-print .gfield_radio input:checked").val()&&(e("#input_"+f1s+"_88").attr("placeholder",c),e("#field_"+f1s+"_88 label").text(motiveText),e("#field_"+f1s+"_88 .gfield_description:not(.validation_message)").text(motiveDescText))}}(),r(n),1==n?((otherProductAdding||productUpdating)&&(e("#gform_"+f2s).fadeOut(),e(".form-add-product").html('<span class="add-product-plus">&#x271A;</span> '+foundation_strings.add_product),otherProductAdding=!1),console.log("productUpdating",productUpdating),t(n)):5==n?o(n,"82"):6==n?o(n,"83"):11==n?o(n,"47"):14==n?o(n,"99"):n==jQuery("#gform_"+f1s+" .gform_page").length&&(e(".form-add-product.store-current-product").on("click",function(t){t.preventDefault(),c(),addOtherProduct(e(this)[0])}),e("#go-to-contact-form").on("click",function(t){if(t.preventDefault(),c(),productUpdating){var o=productUpdating[8];void 0!==(r=e("#fileupload-summary").val())&&""!=r?(r=JSON.parse(r)).push(o):r=[],e("#fileupload-summary").val(JSON.stringify(r)),productUpdating=!1}else{var r;(r=void 0!==(r=e("#fileupload-summary").val())&&""!=r?JSON.parse(r):[]).push(currentUploadedFiles),e("#fileupload-summary").val(JSON.stringify(r)),currentUploadedFiles=[]}jQuery("#input_"+f1s+"_47").val(""),e("#gform_"+f1s).hide(),e("#gform_"+f2s).show(),e("#input_"+f2s+"_3").focus()})),function(t){e("#gform_page_"+f1s+"_"+t+" #current-files").length>0&&(e("#gform_page_"+f1s+"_"+t+" #current-files .ginput_preview").length<=0?e(".gform_next_button").val(formObject.noFilesContinue):e(".gform_next_button").prop("disabled",!1).val(formObject.continueText))}(n))}),e("#gform_"+f2s).hide(),e(document).ready(function(){e(".form-product-definition-contact").hasClass("gform_confirmation_wrapper")&&(e("#gform_"+f1s).hide(),e("#gform_"+f2s).show()),e(".form-product-definition-contact_wrapper").hasClass("gform_validation_error")&&(!function(t){if(!t)return;for(var o=JSON.parse(t),r=0;r<o.length;r++){var i,c,a,n,l,p=o[r];productParams=p.split("@@"),i=productParams[0],c=productParams[1],volume_text="nicknack"==i?e("#gform_"+f1s+' .volume-selection input[value="'+c+'"] + label').text():e("#gform_"+f1s+' .volume-hotcup-selection input[value="'+c+'"] + label').text(),a=productParams[2],variant_text="nicknack"==i?e("#gform_"+f1s+' .variant-selection input[value="'+a+'"] + label').text():e("#gform_"+f1s+' .variant-hotcup-selection input[value="'+a+'"] + label').text(),n=productParams[3],l=productParams[4],subproduct_text="-","nicknack"==i?"potisk"==a?(product_text=e("#gform_"+f1s+' .potisk-product-selection input[value="'+n+'"] + label').html().replace(/<p>.*<\/p>/g,""),e("#gform_"+f1s+' .potisk-cup-selection input[value="'+l+'"] + label').length>0&&(subproduct_text=e("#gform_"+f1s+' .potisk-cup-selection input[value="'+l+'"] + label').html().replace(/<p>.*<\/p>/g,""))):product_text=e("#gform_"+f1s+' .bez-potisku-product-selection input[value="'+n+'"] + label').html().replace(/<p>.*<\/p>/g,""):product_text="potisk"==a?e("#gform_"+f1s+' .hotcup-color-version-print input[value="'+n+'"] + label').html().replace(/<p>.*<\/p>/g,""):e("#gform_"+f1s+' .hotcup-color-version-noprint input[value="'+n+'"] + label').html().replace(/<p>.*<\/p>/g,""),summaryRow="<tr><td>"+volume_text+"</td><td>"+variant_text+"</td><td>"+product_text+"</td><td>"+subproduct_text+"</td><td>"+productParams[5]+"</td><td>"+productParams[6]+"</td><td>"+productParams[7]+'</td><td><a href="#" class="change-product" onclick="changeItem(this)" title="'+formObject.changeProduct+'"></a> <a href="#" class="remove-product" onclick="removeItem(this)" title="'+formObject.removeProduct+'"></a></td></tr>',e("#form-summary").append(summaryRow)}}(e("#input_"+f2s+"_8").val()),e("#gform_"+f1s).hide(),e("#gform_"+f2s).show(),e("#gform_submit_button_"+f2s).show()),e(".form-add-product").on("click",function(e){e.preventDefault()}),""==e("#gform_preview_"+f2s+"_12").html()&&e(".uploads-summary .field-missing").length<=0&&e(".uploads-summary .gfield_label").after('<span class="field-missing">- '+formObject.fieldMissing+" -</span>"),e(".form-product-definition-contact_wrapper input").each(function(){e(this).attr("autocomplete","off")}),e(".gform_confirmation_wrapper.form-product-definition-contact").length>0&&(e("#inquiryForm .form-header").text(formObject.formHeaderConfirmation),e("#inquiryForm .close-product-reveal-modal, .reveal-modal-bg").on("click",function(){location.href=location.href})),t()}),e(window).on("load resize",function(){i()}),e("#show-form-summary").on("click",function(t){t.preventDefault(),e(this).hide();var o=""!=e("#input_"+f2s+"_3").val()?e("#input_"+f2s+"_3").val():'<span class="field-missing">- '+formObject.fieldMissing+" -</span>",r=""!=e("#input_"+f2+"_11").val()?e("#input_"+f2+"_11").val():'<span class="field-missing">- '+formObject.fieldMissing+" -</span>",i=e("#input_"+f2s+"_5").val(),c=e("#input_"+f2s+"_6").val();contact_summary=o+' <a href="#" class="contact-summary-update" onclick="updateContactSummary()">('+formObject.updateContactFields+")</a><br>"+r+"<br>"+i+"<br>"+c,e("#contact-summary").html(contact_summary),e(".form-product-definition-contact_wrapper .gfield:nth-child(1),.form-product-definition-contact_wrapper .gfield:nth-child(2),.form-product-definition-contact_wrapper .gfield:nth-child(3),.form-product-definition-contact_wrapper .gfield:nth-child(4),.form-product-definition-contact_wrapper .gfield:nth-child(5)").hide(),e(".uploads-summary,#form-summary-wrapper,.form-product-definition-contact_wrapper .gform_footer").show()}),e('.gform_wrapper .volume-selection .gfield_radio input[type="radio"]:checked').val(),e('.gform_wrapper .variant-selection .gfield_radio input[type="radio"]:checked').val(),e('.gform_wrapper .variant-selection .gfield_radio input[type="radio"]:checked + label').text(),e('.gform_wrapper .potisk-product-selection .gfield_radio input[type="radio"]:checked').val(),e('.gform_wrapper .bez-potisku-product-selection .gfield_radio input[type="radio"]:checked').val(),e('.gform_wrapper .potisk-cup-selection .gfield_radio input[type="radio"]:checked').val(),e(".form-product-definition-contact").on("submit",function(){e(".product-form-modal").addClass("submitting"),e("#inquiryFormOverlay").addClass("submitting"),e(".form-submitting-spinner").length<=0&&e(".product-form-modal").after('<span class="gform_ajax_spinner form-submitting-spinner"></span>')}),e.fn.addId=function(t){if("string"==typeof t){var o=e(this).val(),r=[];""!==o&&(r=JSON.parse(o)),(0==r.length||r.length>0&&r.findIndex(function(e){return e==t})<0)&&r.push(t),e(this).val(JSON.stringify(r))}},e.fn.removeId=function(t){if("string"==typeof t){var o=e(this).val(),r=[];if(""!==o&&(r=JSON.parse(o)),Array.isArray(r))for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1);e(this).val(JSON.stringify(r))}}}(jQuery);